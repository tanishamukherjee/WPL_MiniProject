<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieDB - Contact Us</title>
    <!-- CSS Links -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- Styles for static content pages (Copied & Adjusted) -->
     <style>
        .static-content-container {
            padding: 140px 3rem 3rem; /* Increased horizontal padding */
            max-width: 1200px; /* Increased max-width */
            margin: 0 auto;
            background-color: #181818;
            border-radius: 8px;
            margin-bottom: 3rem; /* Increased bottom margin */
            color: #ccc; /* Default text color */
        }
        .static-content-container h1 {
            color: #e50914;
            margin-bottom: 2rem;
            border-bottom: 1px solid #444;
            padding-bottom: 1rem;
            font-size: 2.5rem;
        }
        .static-content-container h2 {
            color: #f0f0f0;
            margin-top: 2.5rem;
            margin-bottom: 1.2rem;
            font-size: 1.6rem;
             border-bottom: 1px solid #333;
             padding-bottom: 0.4rem;
        }
        .static-content-container p {
            color: #d0d0d0;
            line-height: 1.75;
            font-size: 1.05rem;
            margin-bottom: 1.2rem;
        }
        .static-content-container a {
             color: #e50914;
             text-decoration: none;
         }
          .static-content-container a:hover {
             color: #ff1f2e;
             text-decoration: underline;
         }

        /* Contact Form Styling */
        .contact-form {
            margin-top: 2rem;
            /* No max-width here, takes width from parent */
        }
        /* Apply spacing to the divs containing label/input */
        .contact-form div {
             /* --- REMOVED max-width: 700px --- */
             margin-bottom: 20px; /* Spacing between form fields */
        }
        .contact-form label {
            display: block;
            margin-bottom: 8px;
            color: #eee;
            font-weight: bold;
            font-size: 0.95rem;
            text-align: left;
        }
        .contact-form input[type="text"],
        .contact-form input[type="email"],
        .contact-form textarea {
            width: 100%; /* Take full width of the parent div */
            padding: 12px 15px;
            background-color: #2a2a2a;
            border: 1px solid #555;
            border-radius: 5px;
            color: #fff;
            font-size: 1rem;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
         .contact-form input[type="text"]:focus,
         .contact-form input[type="email"]:focus,
         .contact-form textarea:focus {
             border-color: #e50914;
             outline: none;
             box-shadow: 0 0 8px rgba(229, 9, 20, 0.6);
         }
        .contact-form textarea { min-height: 150px; resize: vertical; }
        .contact-form button[type="submit"] {
            padding: 0.8rem 2rem;
            background-color: #e50914;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.05rem;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.7rem;
            /* margin-top is handled by the parent div now */
        }
        .contact-form button[type="submit"]:hover { background-color: #b2070f; transform: translateY(-2px); }
        .contact-form button[type="submit"]:disabled { background-color: #555; cursor: not-allowed; }

        /* Status message styling */
        #formStatus {
            margin-top: 1.5rem;
            padding: 1rem;
            border-radius: 5px;
            font-weight: bold;
            text-align: center;
            display: none; /* Hidden by default */
            /* --- REMOVED max-width: 700px --- */
        }
        #formStatus.success { background-color: #28a745; color: white; border: 1px solid #218838; }
        #formStatus.error { background-color: #dc3545; color: white; border: 1px solid #c82333; }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo" onclick="window.location.href='home.html'">ðŸŽ¬ MovieDB</div>
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search movies, TV shows...">
            <button onclick="searchMovies()"><i class="fas fa-search"></i></button>
        </div>
        <div class="auth-buttons">
            <span id="user-info"></span>
            <a href="/auth_system/LoginRegistrationPage/index.html" id="authLink">Login/Register</a>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav-menu">
        <a href="home.html"><i class="fas fa-home"></i> Home</a>
        <a href="movies.html"><i class="fas fa-film"></i> Movies</a>
        <a href="tv-shows.html"><i class="fas fa-tv"></i> TV Shows</a>
        <a href="my-list.html"><i class="fas fa-list"></i> My List</a>
    </nav>

    <!-- Main Content Area -->
    <main class="static-content-container">
         <h1>Contact Us</h1>

         <p>We appreciate your feedback and inquiries. Please use the form below to get in touch with the MovieDB team. We'll do our best to respond as soon as possible.</p>

         <h2>Send Us a Message</h2>

         <form id="contactForm" class="contact-form">
             <div>
                 <label for="name">Name:</label>
                 <input type="text" id="name" name="name" required placeholder="Your Name">
             </div>
             <div>
                 <label for="email">Email:</label>
                 <input type="email" id="email" name="email" required placeholder="your.email@example.com">
             </div>
             <div>
                 <label for="subject">Subject:</label>
                 <input type="text" id="subject" name="subject" placeholder="e.g., Feedback, Question">
             </div>
             <div>
                 <label for="message">Message:</label>
                 <textarea id="message" name="message" required placeholder="Enter your message here..."></textarea>
             </div>
             <div> <!-- Keep button inside div for consistent spacing -->
                 <button type="submit" id="submitBtn">
                    <i class="fas fa-paper-plane"></i> Send Message
                 </button>
             </div>
             <!-- Area to display success/error messages -->
             <div id="formStatus"></div>
         </form>
         <!-- End Contact Form -->

         <h2>Other Ways to Reach Us</h2>
         <p>If you prefer, you can also email us directly at: <a href="mailto:mukherjee.t@somaiya.edu">mukherjee.t@somaiya.edu</a></p>
         <p>Or to talk directly with us, call on - 9137103360 / 7977151326</p>
         <!-- Add social media links if applicable -->

    </main>

    <!-- Footer -->
    <footer class="footer">
         <div class="footer-content">
            <div class="footer-links">
                 <a href="about.html" class="footer-link">About</a>
                 <a href="privacy_policy.html" class="footer-link">Privacy Policy</a>
                 <a href="terms_of_service.html" class="footer-link">Terms of Service</a>
                 <a href="contact_us.html" class="footer-link">Contact Us</a>
            </div>
            <p class="footer-text">Â© 2025 MovieDB. All rights reserved.</p> <!-- Updated year -->
        </div>
    </footer>

    <!-- Main script.js includes checkAuth for header -->
    <script src="script.js"></script>

    <!-- Inline script for Contact Form AJAX Submission -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contactForm');
            const formStatus = document.getElementById('formStatus');
            const submitButton = document.getElementById('submitBtn');

            if (contactForm) {
                contactForm.addEventListener('submit', async function(event) {
                    event.preventDefault(); // Stop default form submission

                    // Disable button and show loading state (optional)
                    submitButton.disabled = true;
                    submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
                    formStatus.style.display = 'none'; // Hide previous status
                    formStatus.className = ''; // Clear previous status classes

                    const formData = new FormData(contactForm);
                    const data = new URLSearchParams();
                    for (const pair of formData.entries()) {
                        data.append(pair[0], pair[1]);
                    }

                    try {
                        // Use the correct path to your PHP script
                        const response = await fetch('/auth_system/send_contact.php', {
                            method: 'POST',
                            body: data,
                            headers: {
                                'Content-Type': 'application/x-www-form-urlencoded'
                            }
                        });

                         if (!response.ok) { // Check for HTTP errors first
                            throw new Error(`Server responded with status: ${response.status}`);
                         }

                        const result = await response.json();

                        formStatus.textContent = result.message; // Display message from PHP
                        if (result.success) {
                            formStatus.className = 'success'; // Add success class for styling
                            contactForm.reset(); // Clear the form fields
                        } else {
                            formStatus.className = 'error'; // Add error class for styling
                        }

                    } catch (error) {
                        console.error('Error submitting contact form:', error);
                        formStatus.textContent = 'An error occurred. Please try again later.';
                        formStatus.className = 'error'; // Ensure error class is set
                    } finally {
                        // Re-enable button and reset text
                        submitButton.disabled = false;
                        submitButton.innerHTML = '<i class="fas fa-paper-plane"></i> Send Message';
                        formStatus.style.display = 'block'; // Show status message
                    }
                });
            }
        });
    </script>
</body>
</html>